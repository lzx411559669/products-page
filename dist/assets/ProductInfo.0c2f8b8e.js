import{i as T,c as m,q as A,_ as E,d as $,o as l,b as a,f as _,t as U,s as x,u as R,r as g,F as B,e as P,n as V,l as j,g as s,h as d,a as y,p as D,x as q,w as L,v as O,y as G}from"./index.4b818132.js";import{p as H,u as z}from"./products.64a4467c.js";const J=()=>{const n=T({products:H}),i=A();return{productInfo:m(()=>{const o=i.params.id;return n.products.find(c=>c.id===o)})}};const K={class:"title-box my-4"},M={class:"text-lg"},Q=$({__name:"Title",props:{title:null},setup(n){return(i,e)=>(l(),a("div",K,[_("div",M,U(n.title),1)]))}});var S=E(Q,[["__scopeId","data-v-3db2d268"]]);const W={class:"pl-2 py-2 relative"},X={key:0,class:"text-center text-base"},Y=$({__name:"Back",props:{title:null},setup(n){const i=R(),e=()=>{i.go(-1)};return(o,c)=>(l(),a("div",W,[_("div",{onClick:e,class:"i-material-symbols:arrow-back-ios-new-rounded text-2xl absolute top-2 left-0"}),n.title?(l(),a("div",X,U(n.title),1)):x("",!0)]))}}),Z=["onClick","src"],ee=$({__name:"ImgsView",props:{urls:null,classNames:null,prefix:null,imgClass:null,imgStyles:null,preview:{type:Boolean}},setup(n,{expose:i}){const e=n,{getUrl:o}=z(),c=g(!1),r=g(e.urls.map(t=>({src:o(`${(e==null?void 0:e.prefix)||""}${t}`)}))),u=g(0),f=t=>{u.value=t,e.preview&&(c.value=!0),Array.isArray(e.urls)&&(r.value=e.urls.map(v=>({src:o(`${(e==null?void 0:e.prefix)||""}${v}`)})))},p=m(()=>r.value[u.value]);i({imgData:r,index:u,currentUrl:p});const h=()=>{c.value=!1};return(t,v)=>{const k=y("nut-image-preview");return l(),a(B,null,[(l(!0),a(B,null,P(n.urls,(C,w)=>(l(),a("div",{class:V(n.classNames)},[_("img",{class:V(["w-full",n.imgClass]),style:j(u.value===w?"border:1px solid #000; height:110px":n.imgStyles),onClick:b=>f(w),src:encodeURI(s(o)(`${n.prefix||""}${C}`)).replace(/\+/g,"%2B"),alt:""},null,14,Z)],2))),256)),d(k,{closeable:!0,"pagination-visible":!0,"pagination-color":"red",show:c.value,"init-no":u.value,images:r.value,onClose:h},null,8,["show","init-no","images"])],64)}}}),te={key:0,class:"p-2"},se={key:0,class:"my-2"},ne=["src"],le={class:"flex flex-wrap w-full ml-2"},re={class:"text-sm px-1 flex justify-center"},ae=["src"],ce=$({__name:"ProductInfo",setup(n){const{getUrl:i}=z(),{productInfo:e}=J(),o=g(!1),c=()=>{o.value=!1},r=g(),u=m(()=>{var t;return(t=r.value)==null?void 0:t.currentUrl}),f=m(()=>{var t;return(t=r.value)==null?void 0:t.index}),p=m(()=>{var t;return(t=r.value)==null?void 0:t.imgData}),h=m(()=>{var t;return(t=r.value)==null?void 0:t.imgData.map(v=>v.src)});return(t,v)=>{var b,F,N;const k=y("viewer"),C=y("nut-indicator"),w=y("nut-image-preview");return s(e)?(l(),a("div",te,[d(Y,{title:(b=s(e))==null?void 0:b.projectName},null,8,["title"]),s(u)?(l(),a("div",se,[d(k,{images:s(h)},{default:D(()=>[(l(!0),a(B,null,P(s(h),I=>L((l(),a("img",{class:"w-full",key:I,src:I},null,8,ne)),[[O,I===s(u).src]])),128))]),_:1},8,["images"])])):x("",!0),s(p)?(l(),q(C,{key:1,block:!0,align:"center",size:s(p).length,current:s(f)+1},{default:D(()=>[G("step1")]),_:1},8,["size","current"])):x("",!0),d(w,{closeable:!0,"pagination-visible":!0,"pagination-color":"red","init-no":s(f),show:o.value,images:s(p),onClose:c},null,8,["init-no","show","images"]),d(S,{title:t.$t("\u6837\u54C1\u56FE")},null,8,["title"]),_("div",le,[d(ee,{ref_key:"imgView",ref:r,imgStyles:"border:1px solid #999;height:110px",prefix:`/products/${(F=s(e))==null?void 0:F.categoryId}/${(N=s(e))==null?void 0:N.title}/`,urls:s(e).detailImgs,"class-names":"w-[23%]  mr-1"},null,8,["prefix","urls"])]),d(S,{title:t.$t("\u5C3A\u5BF8")},null,8,["title"]),_("div",re,[_("img",{class:"w-[90%] m-auto",src:s(i)(`/products/${s(e).categoryId}/${s(e).title}/\u5C01\u9762\u56FE/${s(e).leftImg}`),alt:""},null,8,ae)])])):x("",!0)}}});export{ce as default};
